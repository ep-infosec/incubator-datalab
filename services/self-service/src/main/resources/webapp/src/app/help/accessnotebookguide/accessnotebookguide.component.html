<!--
  ~ Licensed to the Apache Software Foundation (ASF) under one
  ~ or more contributor license agreements.  See the NOTICE file
  ~ distributed with this work for additional information
  ~ regarding copyright ownership.  The ASF licenses this file
  ~ to you under the Apache License, Version 2.0 (the
  ~ "License"); you may not use this file except in compliance
  ~ with the License.  You may obtain a copy of the License at
  ~
  ~   http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing,
  ~ software distributed under the License is distributed on an
  ~ "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  ~ KIND, either express or implied.  See the License for the
  ~ specific language governing permissions and limitations
  ~ under the License.
  -->

<section class="guide-wrapper">
  <h2>How to access DataLab user environment on different operation systems</h2>

  <ul>
    <h3>How to setup tunnel to EDGE instance via SSH on Microsoft Windows</h3>
    <li>Please download PuTTY program by using <a href="https://the.earth.li/~sgtatham/putty/latest/w32/putty.exe">this link</a>.</li>
    <li>Open the PuTTY program.</li>
      <li>In the "HostName" field enter user and IP address of your Edge Node.<br>Please use "datalab-user" for logging
          in.
      </li>
    <img src="./../assets/guides/1_1.png" alt="">
    <li>Open Connection &#8594; SSH &#8594; Auth tab and select a private key, corresponding to a public key, which you've specified during Initial Infrastructure setup.</li>
    <img src="./../assets/guides/1_2.png" alt="">
    <li>Open Connection &#8594; SSH &#8594; Tunnels tab. In "Source port" field enter "3127". In "Destination" select "Dynamic". Click "Add" button.</li>
    <img src="./../assets/guides/1_3.png" alt="">
    <li>Open Session tab. In "Saved Session" field enter name of the connection. Press "Save" and "Open" buttons.</li>
    <img src="./../assets/guides/1_4.png" alt="">
    <li>Tunnel to the Edge has been established. Do not close this terminal till you finished working with notebooks.</li>
    <img src="./../assets/guides/1_5.png" alt="">

    <h3>How to access Notebook Server over SSH on Microsoft Windows</h3>
    <li>Tunnel to the Edge should be established. Run a second PuTTY session.</li>
      <li>In the "HostName" field enter user and IP address of your Notebook instance.<br>Please use "datalab-user".
      </li>
    <img src="./../assets/guides/2_1.png" alt="">
    <li>Open Connection &#8594; SSH &#8594; Auth tab and select a private key, corresponding to a public key, which you've specified during Initial Infrastructure setup.</li>
    <img src="./../assets/guides/2_2.png" alt="">
    <li>Open Connection &#8594; Proxy tab. Select "SOCKS5" Proxy type. Enter "127.0.0.1" and "3127" in "Proxy hostname" and "Port" fields respectively.</li>
    <img src="./../assets/guides/2_3.png" alt="">
    <li>Open Session tab. In "Saved Session" field enter name of the connection. Press "Save" and "Open" buttons.</li>
    <img src="./../assets/guides/2_4.png" alt="">
    <li>Now you are connected to notebook server via SSH.</li>

    <h3>How to access Notebook Server over HTTP on Microsoft Windows</h3>
    <li>Tunnel to the Edge should be established.</li>
    <li>Go to Control Panel &#8594; Lan Settings &#8594; Internet properties &#8594; Connections tab.</li>
    <img src="./../assets/guides/3_1.png" alt="">
    <li>Select "use proxy" and press "advanced" button.</li>
    <img src="./../assets/guides/3_2.png" alt="">
    <li>In the "Socks" string enter "127.0.0.1" and "3127" in "Proxy address" and "Port" fields respectively. Press OK.</li>
    <img src="./../assets/guides/3_3.png" alt="">
    <li>Now you are able to access Notebook server URL via HTTP using any browser.</li>

    <h3>How to setup tunnel to EDGE instance via SSH on MacOS / Linux</h3>
    <li>Open terminal.</li>
    <li>Enter following command:</li>
    <div class="code-block">ssh -D 3127 USER@EDGE_IP -i PATH_TO_PRIVATE_KEY</div>
      <li>Please use "datalab-user" for logging in .<br>Also change "EDGE_IP" and "PATH_TO_KEY" to your value.</li>
    <li>Tunnel to the Edge has been established. Do not close this terminal till you finished working with notebooks.</li>

    <h3>How to access Notebook Server over SSH on MacOS / Linux</h3>
    <li>Tunnel to the Edge should be established. Open new terminal.</li>
    <li>Enter following command:</li>
    <div class="code-block">ssh -o ProxyCommand='nc -x localhost:3127 %h %p' USER@NOTEBOOK_IP -i PATH_TO_PRIVATE_KEY</div>
      <li>Please use "datalab-user" for logging in.<br>Also change "NOTEBOOK_IP" and "PATH_TO_PRIVATE_KEY" to your
          value.
      </li>
    <li>Now you are connected to notebook server via SSH.</li>
  </ul>
</section>
